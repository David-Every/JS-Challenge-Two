"use strict";$("body").css("margin","0");var currentImage,idNum,WH=[["500/400"],["300/200"],["200/100"],["50"]],x=0,minNo=1,maxNo=1085,getdata=function(){idNum=Math.floor(Math.random()*maxNo),currentImage="https://picsum.photos/id/".concat(idNum,"/").concat(WH[x]),axios.get(currentImage).then(function(){$("#image").css("background-image","url(https://picsum.photos/id/".concat(idNum,"/").concat(WH[x],")"))})};$list=$("#list"),$sidebar=$("#sidebar"),$mobEmail=$("#mobEmail"),$linkEmail=$(""),$formPlacement=$(body);var getImg=document.getElementById("newImage");$mobImgrefresh=$("#reload").on("click",getdata);var showing=!1,showEmails=!1,active=!1,animSpeed=500,t=window.matchMedia("(max-width: 949px)");function res(){t.matches?$sidebar.css("display","none"):$sidebar.css("display","block")}function validateAndLink(e){if(ValidateEmail(e)){var t=e.value,n=0,a=null;if(0===emailInfo.length&&firstemail)return firstemail=!1,a=t,t=null,createnew(a);for(var i=0;i<emailInfo.length;i++){if(emailInfo[i][0].match(t))return t=null,getdata(),emailInfo[i].push(currentImage);if(n++,emailInfo.length===n)return a=t,t=null,n=0,createnew(a)}}}window.addEventListener("resize",res),$emailForm=$('\n    <div id ="form"> \n        <form name = form1>\n            <label for ="emailBox" >Email:</label>  \n            <input id ="emailBox" type="text" name ="text1">\n        </form>\n        <button type = "button" onclick="validateAndLink(document.form1.text1)">\n            <span>Link Image</span>\n        </button>\n    </div> \n'),setTimeout(getdata,1),res(),getImg.addEventListener("click",getdata),$("#linkToEmail").on("click",function(){console.log("clicked"),showing?(showing=!1,$("#form").remove("#form")):(showing=!0,$emailForm.appendTo($sidebar))}),$("#linkEmail").on("click",function(){console.log("clicked"),showing?(showing=!1,$("#form").remove("#form")):(showing=!0,$emailForm.appendTo($formPlacement))}),$("#viewEmails").on("click",function(){showEmails?(showEmails=!1,$list.animate({right:"0px"}),setTimeout(function(){$list.css("display","none")},1e3)):(showEmails=!0,loadContent(),$list.animate({right:"325px"}),$list.css("display","block"))}),$("#mobEmail").on("click",function(){active?(active=!1,$list.animate({left:"100%"},animSpeed),setTimeout(function(){$list.css({display:"none",width:"325px"})},animSpeed+10)):(active=!0,$list.css({display:"block",width:"100%",right:"-100%"}),$list.animate({left:"-3px"},animSpeed))});var emailCheck=1,firstemail=!0,emailInfo=[];function createnew(e){emailInfo.push(["".concat(e),"".concat(currentImage)]),emailCheck=emailInfo.length,getdata()}function ValidateEmail(e){return e.value.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)?(document.form1.text1.focus(),!0):(alert("You have entered an invalid email address!"),document.form1.text1.focus(),!1)}function loadContent(){var c=0,r=1;emailInfo.forEach(function(){var e=document.createElement("div");e.setAttribute("class","linkedEmails"),document.getElementById("allEmails").appendChild(e);var t=document.createElement("h3"),n=document.createTextNode(emailInfo[c][0]);t.appendChild(n),e.appendChild(t);for(var a=document.createElement("ul"),i=1;i<emailInfo[c].length;i++){var o=document.createElement("li"),l=document.createElement("img"),m=emailInfo[c][r].toString();l.src=m,o.appendChild(l),a.appendChild(o),r++}e.appendChild(a),r=1,c++})}