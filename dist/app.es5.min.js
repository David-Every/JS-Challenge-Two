"use strict";$("body").css("margin","0");var currentImage,idNum,WH=[["600/500"],["500/500"],["300/400"],["50"]],minNo=1,maxNo=1085,linkToSave="https://picsum.photos/id/".concat(idNum,"/"),getdata=function e(){var i=t.matches?2:m.matches?1:0;setTimeout(function(){}),idNum=Math.floor(Math.random()*maxNo),currentImage="https://picsum.photos/id/".concat(idNum,"/").concat(WH[i]),linkToSave="https://picsum.photos/id/".concat(idNum,"/"),axios.get(currentImage).then(function(){$("#image").css("background-image","url(https://picsum.photos/id/".concat(idNum,"/").concat(WH[i],")"))}).catch(function(){e()})},$list=$("#list"),$sidebar=$("#sidebar"),$mobEmail=$("#mobEmail"),$linkEmail=$(""),$formPlacement=$(body),getImg=document.getElementById("newImage"),$mobImgrefresh=$("#reload").on("click",getdata),showing=!1,showEmails=!1,active=!1,animSpeed=500,t=window.matchMedia("(max-width: 949px)"),m=window.matchMedia("max-width:1400px");window.addEventListener("resize",function(){res(),reset()});var $emailForm=$('\n    <div id ="form">\n        <h3>Email:</h3> \n        <form name = form1>\n            <input id ="emailBox" type="text" name ="text1">\n        </form>\n        <button id ="linkButton" type = "button" onclick="validateAndLink(document.form1.text1)">\n            <span>Link Image</span>\n        </button>\n    </div> \n');function res(){t.matches?$sidebar.css("display","none"):$sidebar.css("display","block")}function reset(){formReset()}function formReset(){showing=!1,$("#form").removeClass("lgscn"),$("#form").removeClass("smscn"),setTimeout(function(){$("#form").remove("#form")},1)}function listEmailsReset(){active=!1,$(".linkedEmails").remove(".linkedEmails"),$("#viewEmails span").text("Show linked Emails"),$list.animate({right:"-320px"},animSpeed),setTimeout(function(){$list.css("display","none")},animSpeed)}function validateAndLink(e){if(ValidateEmail(e)){var t=e.value,i=0,n=null;if(0===emailInfo.length&&firstemail)return firstemail=!1,n=t,t=null,createnew(n);for(var a=0;a<emailInfo.length;a++){if(emailInfo[a][0].match(t))return t=null,getdata(),emailInfo[a].push(linkToSave);if(i++,emailInfo.length===i)return n=t,t=null,i=0,createnew(n)}}}setTimeout(getdata,1),res(),getImg.addEventListener("click",getdata),$("#linkToEmail").on("click",function(){showing?formReset():(showing=!0,$emailForm.appendTo($sidebar),$("#form").addClass("lgscn"),$("#form").css({bottom:"320px"}))}),$("#linkEmail").on("click",function(){showing?(showing=!1,formReset()):(showing=!0,$emailForm.appendTo($formPlacement),$("#form").addClass("smscn"),$("#form").css({bottom:"150px"}))}),$("#viewEmails , #mobEmail").on("click",function(){active?listEmailsReset():(active=!0,$("#viewEmails span").text("Hide linked Emails"),loadContent(),t.matches?($list.css({display:"block",width:"320px",right:"-320px"}),$list.animate({right:"0"})):($list.css({display:"block",width:"320px",right:"0px"}),$list.animate({right:"320px"})))});var emailCheck=1,firstemail=!0,emailInfo=[];function createnew(e){emailInfo.push(["".concat(e),"".concat(linkToSave)]),emailCheck=emailInfo.length,getdata()}function ValidateEmail(e){return e.value.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)?(document.form1.text1.focus(),!0):(alert("You have entered an invalid email address!"),document.form1.text1.focus(),!1)}function loadContent(){var s=0,c=1;emailInfo.forEach(function(){var e=document.createElement("div");e.setAttribute("class","linkedEmails"),document.getElementById("allEmails").appendChild(e);var t=document.createElement("h3"),i=document.createTextNode(emailInfo[s][0]);t.appendChild(i),e.appendChild(t);for(var n=document.createElement("ul"),a=1;a<emailInfo[s].length;a++){var o=document.createElement("li"),m=document.createElement("img"),l=emailInfo[s][c].toString();l+=WH[3].toString(),m.src=l,o.appendChild(m),n.appendChild(o),c++}e.appendChild(n),c=1,s++})}